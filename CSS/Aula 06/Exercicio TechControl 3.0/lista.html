<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Lista de produtos</title>
  <link rel="stylesheet" href="lista.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
</head>
<body>
  <div class="dashboard-container">
    <div class="sidebar">
      <div class="perfil">
        <img src="https://randomuser.me/api/portraits/men/3.jpg" alt="">
        <p>Luis</p>
        <span>Perfil: Administrador</span>
      </div>
      <div class="navegacao">
        <button>
          <i class="bi bi-clipboard-data"></i>
          Dashboard
        </button>
        <button>
          <i class="bi bi-list-nested"></i>
          Lista de produtos
        </button>
      </div>
    </div>
    <div class="dashboard">
      <div class="nav">
        <div class="nav-button">
          <i class="bi bi-chat-left"></i>
          <span>Notificações</span>
        </div>
        <div class="nav-button">
          <i class="bi bi-gear-wide-connected"></i>
          <span>Configurações</span>
        </div>
      </div>
      <div class="lista">
        <h2>Lista de Produtos</h2>
        <div>
          <button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#exampleModal">
            <i class="bi bi-plus-circle"></i>
            Novo
          </button>
        </div>
        
        <table class="table table-bordered">
          <thead>
            <tr>
              <th scope="col">Código</th>
              <th scope="col">Descrição</th>
              <th scope="col">Estoque</th>
              <th scope="col">Valor</th>
              <th scope="col">Categoria</th>
              <th scope="col">Ações</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <th scope="row">1</th>
              <td>Nome do produto aqui</td>
              <td>100</td>
              <td>R$ 50,00</td>
              <td>Categoria A</td>
              <td>
                <div class="btn-group">
                  <button class="btn btn-secondary btn-sm dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false">
                    Editar item
                  </button>
                  <ul class="dropdown-menu">
                    <li><a class="dropdown-item" href="#">Editar</a></li>
                    <li><a class="dropdown-item" href="#">Excluir</a></li>
                    <li><a class="dropdown-item" href="#">Vender</a></li>
                    <li><a class="dropdown-item" href="#">Comprar</a></li>
                  </ul>
                </div>
              </td>
            </tr>
            <tr>
              <th scope="row">2</th>
              <td>Nome do produto aqui</td>
              <td>100</td>
              <td>R$ 50,00</td>
              <td>Categoria A</td>
              <td>
                <div class="btn-group">
                  <button class="btn btn-secondary btn-sm dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false">
                    Editar item
                  </button>
                  <ul class="dropdown-menu">
                    <li><a class="dropdown-item" href="#">Editar</a></li>
                    <li><a class="dropdown-item" href="#">Excluir</a></li>
                    <li><a class="dropdown-item" href="#">Vender</a></li>
                    <li><a class="dropdown-item" href="#">Comprar</a></li>
                  </ul>
                </div>
              </td>
            </tr><tr>
              <th scope="row">3</th>
              <td>Nome do produto aqui</td>
              <td>100</td>
              <td>R$ 50,00</td>
              <td>Categoria B</td>
              <td>
                <div class="btn-group">
                  <button class="btn btn-secondary btn-sm dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false">
                    Editar item
                  </button>
                  <ul class="dropdown-menu">
                    <li><a class="dropdown-item" href="#">Editar</a></li>
                    <li><a class="dropdown-item" href="#">Excluir</a></li>
                    <li><a class="dropdown-item" href="#">Vender</a></li>
                    <li><a class="dropdown-item" href="#">Comprar</a></li>
                  </ul>
                </div>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>

  <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="exampleModalLabel">Cadastro de produto</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          <div class="container">
            <div class="row">
              <div class="col-sm-4">
                <label for="codigo" class="col-form-label">Código</label>
                <input type="number" class="form-control" id="codigo">
              </div>
              <div class="col-sm-8">
                <label for="descricao" class="col-form-label">Descrição</label>
                <input type="text" class="form-control" id="descricao">
              </div>
            </div>
            <div class="row">
              <div class="col-sm">
                <label for="estoque" class="col-form-label">Estoque inicial</label>
                <input type="number" class="form-control" id="estoque">
              </div>
              <div class="col-sm">
                <label for="valor" class="col-form-label">Valor</label>
                <input type="number" class="form-control" id="valor">
              </div>
              <div class="col-sm">
                <label for="categoria" class="col-form-label">Categoria</label>
                <input type="text" class="form-control" id="categoria">
              </div>
            </div>
          </div>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
          <button type="button" class="btn btn-primary">Salvar</button>
        </div>
      </div>
    </div>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  <script>
    document.querySelector('.btn-primary').addEventListener('click', () => {
      const codigo = document.getElementById('codigo').value;
      const descricao = document.getElementById('descricao').value;
      const estoque = document.getElementById('estoque').value;
      const valor = document.getElementById('valor').value;
      const categoria = document.getElementById('categoria').value;

      if (codigo && descricao && estoque && valor && categoria) {
        const novoProduto = { codigo, descricao, estoque, valor, categoria };

        // Recupera os produtos existentes no localStorage
        const produtos = JSON.parse(localStorage.getItem('produtos')) || [];

        // Adiciona o novo produto
        produtos.push(novoProduto);

        // Salva de volta no localStorage
        localStorage.setItem('produtos', JSON.stringify(produtos));

        // Limpa o formulário
        document.getElementById('codigo').value = '';
        document.getElementById('descricao').value = '';
        document.getElementById('estoque').value = '';
        document.getElementById('valor').value = '';
        document.getElementById('categoria').value = '';

        // Fecha o modal
        const modal = bootstrap.Modal.getInstance(document.getElementById('exampleModal'));
        modal.hide();

        alert('Produto adicionado com sucesso!');
      } else {
        alert('Por favor, preencha todos os campos.');
      }
    });
  </script>
</body>
</html>